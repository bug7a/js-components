"use strict";const HoldToConfirmButtonDefaults={key:"0",width:"auto",height:50,labelText:"Hold to Delete",completedText:"DELETED",iconFile:"../comp-m3/hold-to-confirm-button/trash.png",holdingIconFile:"../comp-m3/hold-to-confirm-button/trash-red.png",onConfirm:function(o){},onReset:function(o){},holdDuration:3e3,resetDelay:3e3,style:{layout:{gap:4,padding:[18,5]},icon:{width:32,height:32},label:{fontSize:20,textColor:Black(.7)},holdingLabel:{fontSize:20,textColor:"#FE5D49"},completedLabel:{fontSize:20,textColor:"#5DB182"},box:{color:Black(.05),border:1,borderColor:Black(.3),round:8},holdingBox:{color:"#FFD1CB",border:1,borderColor:"#FE5D49",rightBorderColor:"#FE5D4944",round:8},completedBox:{color:"#DFEFE6",opacity:0,border:1,borderColor:"#5DB182",round:8}}},HoldToConfirmButton=function(o={}){mergeIntoIfMissing(o,HoldToConfirmButtonDefaults),o.color="transparent";let e=startObject(o);e.holdDurationString=e.holdDuration/1e3+"s",e.publicVar=1;e.startHold=function(){e.holdTimer||(e.maskBox.setMotion("background-color 0.2s, width "+e.holdDurationString),e.maskBox.withMotion((function(){e.maskBox.width=e.contentBox.width})),e.holdTimer=setTimeout((function(){e.onHoldComplete()}),e.holdDuration))},e.cancelHold=function(){e.holdTimer&&(clearTimeout(e.holdTimer),e.holdTimer=null),e.maskBox.setMotion("background-color 0.2s, width 0.3s"),e.maskBox.withMotion((function(){e.maskBox.width=0}))},e.onHoldComplete=function(){e.holdTimer=null,e.maskBox.dontMotion(),e.maskBox.width=0,e.clickable=0,e.completedBox.dontMotion(),e.completedBox.opacity=1,setTimeout((function(){e.clickable=1,e.completedBox.opacity=0,e.onReset(e)}),e.resetDelay),e.onConfirm&&e.onConfirm(e)},e.refresh=function(){},e.destroy=function(){e.remove(),e=null},e.elem.style.cursor="pointer",e.clickable=1,e.contentBox=HGroup({width:"auto",height:"100%",gap:e.style.layout.gap,position:"relative",padding:e.style.layout.padding,...e.style.box}),e.icon=Icon(0,0,e.style.icon),e.icon.setMotion("opacity 0.2s"),e.icon.load(e.iconFile),e.label=Label(0,0,e.style.label),e.label.setMotion("opacity 0.2s"),e.label.text=e.labelText,endGroup(),e.maskBox=startBox(0,0,0,"100%",{color:"transparent"}),e.holdingBox=startBox(0,0,0,"100%",e.style.holdingBox),e.iconRed=Icon(0,0,e.style.icon),e.iconRed.load(e.holdingIconFile),e.labelRed=Label(0,0,e.style.holdingLabel),e.labelRed.text=e.labelText,e.labelRed.elem.style.whiteSpace="nowrap",e.redBorder=Box({left:0,top:0,width:1,height:"100%",color:e.style.holdingBox.rightBorderColor}),endBox(),endBox(),e.maskBox.onResize((function(o){const t=window.getComputedStyle(e.maskBox.elem).getPropertyValue("width");e.redBorder.left=num(t)-2}));const t=function(o=e.contentBox){e.iconRed.aline(e.icon),e.labelRed.aline(e.label),e.holdingBox.width=e.contentBox.width};return t(),e.contentBox.onResize(t),e.completedBox=startBox(0,0,"100%","100%",e.style.completedBox),e.completedBox.setMotion("opacity 0.3s"),HGroup(),Label(e.style.completedLabel),that.text=e.completedText,endGroup(),endBox(),["mousedown","touchstart"].forEach((o=>e.on(o,e.startHold))),["mouseup","touchend","mouseleave"].forEach((o=>e.on(o,e.cancelHold))),endObject(e)};