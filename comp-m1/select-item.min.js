"use strict";const SelectItem=function(e={}){let t=startBox();t.props({box:"container",width:350,height:94,mainBorder:1,mainBorderColor:"rgba(0, 0, 0, 0.3)",round:4,color:"whitesmoke",selectedIndex:-1,itemDataList:[],onSelect:function(){},Item:function(){},darkMode:0,buttonIconFile:"../comp-m1/select-item/expand.svg",selection_Item:null,selection_fullScreen:0,selection_backgroundColor:"whitesmoke",selection_showMain:0,selection_cancelButtonVisible:0,selection_cancelButtonColor:"#FFFCD6",selection_cancelButtonText:"CANCEL",selection_cancelButtonHeight:50,search_visible:1,search_autoFocus:1,search_placeHolder:"Search",search_backgroundColor:"#FFFCD6",search_searchIconFile:"../comp-m1/search-input/search.svg",search_clearIconFile:"../comp-m1/search-input/clear.svg"},e);t.publicVar="",t.realTop=0,t.realLeft=0;const o=function(){let e=0,o=t.elem;for(;o.offsetParent;)e+=o.offsetLeft,o=o.offsetParent;return t.realLeft=e,e},i=function(){let e=0,o=t.elem;for(;o.offsetParent;)e+=o.offsetTop,o=o.offsetParent;return t.realTop=e,e};return t.publicFunc=()=>{},t.setSelectedIndex=function(e){-1==e||e<t.itemDataList.length&&(t.selectedIndex=e,t.boxItem.html="",t.Item(t.itemDataList[t.selectedIndex]),t.boxItem.add(that),t.setHeight(that.height),that.left=0,that.top=0,t.onSelect(e))},t.openSelectItemList=function(){t.itemSelectList&&t.itemSelectList.close(),i(),o(),t.itemSelectList=SelectItem.SelectItemList(t)},t.setItem=function(e){t.Item=e},t.setHeight=function(e){t.height=e,t.icoDown.center("top")},t.setMainBorder=function(e){t.mainBorder=e,t.boxBorder.border=e},t.setMainBorderColor=function(e){t.mainBorderColor=e,t.boxBorder.borderColor=e},t.setRound=function(e){t.round=e,t.boxBorder.round=e},t.setDarkMode=function(e){t.darkMode=e,1==t.darkMode&&(t.elem.style.filter="invert(100%)")},t.removeAll=function(){t.itemSelectList&&t.itemSelectList.close(),t.remove(),t=null},t.setColor=function(e){t.color=e},t.setMotion("opacity 0.2s"),t.boxItem=Box(0,0,"100%","100%",{color:"transparent"}),t.boxBorder=Box(0,0,"100%","100%",{color:"transparent"}),t.icoDown=Icon({right:4,bottom:0,width:20,height:20,opacity:.8}),that.load(t.buttonIconFile),endBox(),i(),o(),t.onClick(t.openSelectItemList),t.setItem(t.Item),t.setMainBorder(t.mainBorder),t.setMainBorderColor(t.mainBorderColor),t.setRound(t.round),t.setHeight(t.height),t.setDarkMode(t.darkMode),t.setSelectedIndex(t.selectedIndex),makeBasicObject(t),t};SelectItem.SelectItemList=function(e){let t=startBox(0,0,"100%","100%",{clickable:1,color:"transparent"});1==e.darkMode&&(t.elem.style.filter="invert(100%)"),t.itemHeight=e.height,t.closeButton=Box(0,0,"100%","100%",{color:"transparent"}),t.add(that),that.onClick((function(){t.close()})),t.close=function(){o.dontMotion(),o.opacity=1,o.elem.style.transform="scale(1)",o.withMotion((function(e){e.opacity=0,e.elem.style.transform="scale(0.9)"})),setTimeout((function(){page.remove_onResize(r),o&&void 0!==typeof o.uiItemList&&(o.uiItemList.remove(),o.uiItemList=null),o&&(o.remove(),o=null),t&&(t.remove(),t=null),e.itemSelectList=null}),250)},t.refreshSizeAndPosition=function(i){let n="100%",r=0,c=page.height-e.realTop;1==e.selection_showMain&&(c-=t.itemHeight);let l=t.itemHeight*e.itemDataList.length;i>0?l=t.itemHeight*i:0==i&&(l=0),l+=1==e.search_visible?o.searchInput.height:0,l+=1==e.selection_cancelButtonVisible?e.selection_cancelButtonHeight:0,l<t.itemHeight&&(l=t.itemHeight),0==e.selection_fullScreen&&(r=e.realTop,1==e.selection_showMain&&(r+=t.itemHeight),n=c>l?l:c),o.left=e.realLeft,o.top=r,o.height=n,o.width=e.width};let o=startBox({color:"whitesmoke",border:0,round:4});o.setMotion("opacity 0.2s, transform 0.2s"),t.add(o),o.opacity=0,o.elem.style.transform="scale(0.9)",o.clickable=1,o.onClick((function(){})),1==e.search_visible&&(o.searchInput=SearchInput({width:"100%",height:40,color:e.search_backgroundColor,round:2,fontSize:18,searchIconSize:22,placeholderText:e.search_placeHolder,darkMode:e.darkMode,searchIconFile:e.search_searchIconFile,clearIconFile:e.search_clearIconFile}),1==e.search_autoFocus&&o.searchInput.focus());let i=0;1==e.search_visible&&(i+=o.searchInput.height),1==e.selection_cancelButtonVisible&&(i+=40);const n="calc(100% - "+i+"px)";o.uiItemList=ItemList({width:"100%",height:n,darkMode:e.darkMode}),o.uiItemList.top=1==e.search_visible?o.searchInput.height:0,o.uiItemList.left=0,o.uiItemList.setItemAlignment(ItemList.alignType.VERTICAL),o.uiItemList.setItemCreationFunction(e.selection_Item?e.selection_Item:e.Item),o.uiItemList.createItemsByDataList(e.itemDataList),e.itemDataList.length>0&&(t.itemHeight=o.uiItemList.getItemList()[0].height),o.uiItemList.onSelectionChange((function(o,i,n,r){n&&(n.opacity=1,n.clickable=1,o.removeItemFromSelectedList(n)),i&&(i.opacity=.5,i.clickable=0,o.addItemToSelectedList(i)),r&&(e.setSelectedIndex(i.getIndex()),t.close())})),o.uiItemList.selectItemByIndex(e.selectedIndex),1==e.search_visible&&(o.searchInput.onSearch=function(e){const i=o.uiItemList.searchItemByText(e);t.refreshSizeAndPosition(i)}),e.selection_cancelButtonVisible&&(o.btnCancel=Button({color:e.selection_cancelButtonColor,text:e.selection_cancelButtonText,left:0,bottom:0,height:40,width:"100%",minimal:1,border:1,borderColor:e.mainBorderColor,fontSize:16,round:e.round}),that.onClick((function(){t.close()}))),o.boxBorder=Box(0,0,"100%","100%",{color:"transparent",round:o.round}),o.boxBorder.elem.style.borderLeft="1px solid "+e.mainBorderColor,o.boxBorder.elem.style.borderRight="1px solid "+e.mainBorderColor,0==e.selection_fullScreen&&(o.boxBorder.elem.style.borderTop="1px solid "+e.mainBorderColor,o.boxBorder.elem.style.borderBottom="1px solid "+e.mainBorderColor),endBox(),endBox();const r=function(){page.remove_onResize(r),e.itemSelectList&&(e.itemSelectList.visible=0,e.itemSelectList.close())};return page.onResize(r),t.refreshSizeAndPosition(),o.withMotion((function(e){e.opacity=1,e.elem.style.transform="scale(1)"})),makeBasicObject(t),t};