"use strict";const ScrollBar=function(o={}){const e=startBox();e.props({scrollableBox:null,bar_border:0,bar_round:3,bar_borderColor:"rgba(0, 0, 0, 1)",bar_width:4,bar_mouseOverWidth:4,bar_mouseOverColor:"#373836",bar_opacity:.4,bar_mouseOverOpacity:.9,bar_padding:2,bar_color:"#373836",neverHide:1,showDots:1},o);let r=null;const l=function(){e.setTimeoutVar&&clearTimeout(e.setTimeoutVar),e.setTimeoutVar=setTimeout((function(){1==e.mouseMoving?l():0==e.neverHide&&(e.boxScrollBarTop.opacity=0,e.boxScrollBarLeft.opacity=0,e.topRightDot.visible=0,e.bottomLeftDot.visible=0,e.bottomRightDot.visible=0)}),3e3)},t=function(){e.setTimeoutVar&&clearTimeout(e.setTimeoutVar)};e.refreshScroll=function(){e.scrollableBox.containerBox.add(e),e.width=e.scrollableBox.width,e.height=e.scrollableBox.height,e.aline(e.scrollableBox);const o=e.scrollableBox.elem.scrollLeft,r=e.scrollableBox.elem.clientWidth,t=e.scrollableBox.elem.scrollWidth,c=r/t;e.boxScrollBarLeft.left=o*c+2*e.bar_width,e.boxScrollBarLeft.width=r*c-4*e.bar_width,t==r||0==e.scrollableBox.scrollX?0!=e.neverHide&&t!=r||(e.boxScrollBarLeft.visible=0):1==e.scrollableBox.scrollX&&(e.boxScrollBarLeft.visible=1);const i=e.scrollableBox.elem.scrollTop,a=e.scrollableBox.elem.clientHeight,b=e.scrollableBox.elem.scrollHeight,s=a/b;e.boxScrollBarTop.top=i*s+2*e.bar_width,e.boxScrollBarTop.height=a*s-4*e.bar_width,b==a||0==e.scrollableBox.scrollY?0!=e.neverHide&&b!=a||(e.boxScrollBarTop.visible=0):1==e.scrollableBox.scrollY&&(e.boxScrollBarTop.visible=1),e.refreshDotButtons(),l()},e.refreshDotButtons=function(){if(e.showDots){let o=0;0==e.boxScrollBarTop.visible?(o++,e.topRightDot.visible=0):e.topRightDot.visible=1,0==e.boxScrollBarLeft.visible?(o++,e.bottomLeftDot.visible=0):e.bottomLeftDot.visible=1,e.bottomRightDot.visible=o>1?0:1}};const c=function(o){e.mouseMoving=1;const r=e.scrollableBox.elem.clientWidth,t=e.scrollableBox.elem.scrollWidth/r;if(0!=e.mouseX&&1==e.boxScrollBarLeft.clicked){const r=o.clientX-e.mouseX;e.scrollableBox.elem.scrollLeft+=r*t}const c=e.scrollableBox.elem.clientHeight,i=e.scrollableBox.elem.scrollHeight/c;if(0!=e.mouseY&&1==e.boxScrollBarTop.clicked){const r=o.clientY-e.mouseY;e.scrollableBox.elem.scrollTop+=r*i}e.mouseX=o.clientX,e.mouseY=o.clientY,l()};e.color="transparent",e.setMotion("opacity 0.2s"),e.boxScrollBarTop=Box({right:e.bar_padding,border:e.bar_border,borderColor:e.bar_borderColor,round:e.bar_round,width:e.bar_width,color:e.bar_color,opacity:e.bar_opacity}),e.boxScrollBarTop.setMotion("width 0.2s, opacity 0.5s"),e.boxScrollBarLeft=Box({bottom:e.bar_padding,border:e.bar_border,borderColor:e.bar_borderColor,round:e.bar_round,height:e.bar_width,color:e.bar_color,opacity:e.bar_opacity}),e.boxScrollBarLeft.setMotion("height 0.2s, opacity 0.5s"),e.topRightDot=Box({right:e.bar_padding,top:2,width:e.bar_width,height:e.bar_width,color:e.bar_color,opacity:e.bar_opacity,round:e.bar_width,visible:0}),e.bottomRightDot=Box({right:e.bar_padding,bottom:2,width:e.bar_width,height:e.bar_width,color:e.bar_color,opacity:e.bar_opacity,round:e.bar_width,visible:0}),e.bottomLeftDot=Box({left:2,bottom:e.bar_padding,width:e.bar_width,height:e.bar_width,color:e.bar_color,opacity:e.bar_opacity,round:e.bar_width,visible:0}),endBox(),e.position="absolute",e.refreshScroll(),e.scrollableBox.onResize(e.refreshScroll),e.scrollableBox.elem.addEventListener("scroll",e.refreshScroll),e.boxScrollBarTop.clickable=1,e.boxScrollBarLeft.clickable=1;const i=function(){e.boxScrollBarTop.width=e.bar_width,e.boxScrollBarTop.color=e.bar_color,e.boxScrollBarTop.opacity=e.bar_opacity};e.boxScrollBarTop.elem.addEventListener("mouseover",(function(o){e.boxScrollBarTop.width=e.bar_mouseOverWidth,e.boxScrollBarTop.color=e.bar_mouseOverColor,e.boxScrollBarTop.opacity=e.bar_mouseOverOpacity,t()})),e.boxScrollBarTop.elem.addEventListener("mouseout",(function(o){1!=e.boxScrollBarTop.clicked&&(i(),l())}));const a=function(){e.boxScrollBarLeft.height=e.bar_width,e.boxScrollBarLeft.color=e.bar_color,e.boxScrollBarLeft.opacity=e.bar_opacity};e.boxScrollBarLeft.elem.addEventListener("mouseover",(function(o){e.boxScrollBarLeft.height=e.bar_mouseOverWidth,e.boxScrollBarLeft.color=e.bar_mouseOverColor,e.boxScrollBarLeft.opacity=e.bar_mouseOverOpacity,t()})),e.boxScrollBarLeft.elem.addEventListener("mouseout",(function(o){1!=e.boxScrollBarLeft.clicked&&(a(),l())})),e.scrollableBox.elem.addEventListener("mouseover",(function(o){e.boxScrollBarTop.opacity=e.bar_opacity,e.boxScrollBarLeft.opacity=e.bar_opacity,e.refreshDotButtons(),l()})),e.scrollableBox.elem.addEventListener("mouseleave",(function(o){e.mouseDownForScrolling=0,l()}));const b=function(){e.mouseX=0,e.mouseY=0,r=Box(0,0,"100%","100%",{color:"transparent",clickable:1}),page.add(that),r.elem.addEventListener("mousemove",c);const o=function(){e.mouseMoving=0,e.boxScrollBarLeft.clicked=0,e.boxScrollBarTop.clicked=0,l(),i(),a(),r.remove()};r.elem.addEventListener("mouseup",(function(e){o()})),r.elem.addEventListener("mouseleave",(function(e){o()}))};e.boxScrollBarTop.elem.addEventListener("mousedown",(function(o){e.boxScrollBarTop.clicked=1,b()})),e.boxScrollBarLeft.elem.addEventListener("mousedown",(function(o){e.boxScrollBarLeft.clicked=1,b()})),window.addEventListener("resize",(function(){e.refreshScroll()}));const s=e.scrollableBox.elem;let n=s.scrollHeight;return new MutationObserver((o=>{o.forEach((o=>{n!==s.scrollHeight&&(e.refreshScroll(),n=s.scrollHeight)}))})).observe(s,{childList:!0,subtree:!0,characterData:!0}),makeBasicObject(e),e};