"use strict";const BadgeDefaults={key:"0",value:0,maxValue:99,showPlus:1,dotSize:10,badgeStyle:{color:"indianred",border:1,borderColor:"rgba(11, 8, 8, 0.4)",textColor:"rgba(0, 0, 0, 0.85)"}},Badge=function(e={}){mergeIntoIfMissing(e,BadgeDefaults),e.width="100%",e.height="100%",e.left=0,e.top=0,e.position="absolute",e.border=0,e.color="transparent";let t=startObject(e);t.state="hidden";const o=function(){if(void 0===t.value||null===t.value||0===t.value)t.setState("hidden");else if(1===t.value)t.dot.width=t.dotSize,t.dot.height=t.dotSize,t.dot.color=t.badgeStyle.color,t.setState("dot");else if("number"==typeof t.value&&t.value>1){t.label.color=t.badgeStyle.color;let e=t.value.toString();t.value>t.maxValue&&t.showPlus&&(e=t.maxValue+"+"),t.label.text=e,t.setState("number")}else t.setState("hidden")},a=function(e){if(null==e)return 0;if("string"==typeof e){const t=parseInt(e);return isNaN(t)?0:t}return"number"==typeof e?Math.max(0,Math.floor(e)):0};return t.setValue=function(e){return t.value=a(e),o(),t},t.getValue=function(){return t.value},t.show=function(){return t.value>0&&(t.visible=1),t},t.hide=function(){return t.visible=0,t},t.getState=function(){return t.state},t.isVisible=function(){return 1===t.visible},t.setState=function(e){switch(t.state=e,e){case"number":t.dot.opacity=0,t.label.opacity=1;break;case"dot":t.dot.opacity=1,t.label.opacity=0;break;case"hidden":t.dot.opacity=0,t.label.opacity=0;break;default:t.state="hidden",t.dot.opacity=0,t.label.opacity=0;break}},t.dot=Box({width:t.dotSize,height:t.dotSize,top:4,right:4,round:100,opacity:0}),t.dot.props(t.badgeStyle),t.dot.setMotion("opacity 0.2s"),t.label=Label({text:"0",fontSize:12,round:3,padding:[3,0],opacity:0,right:0,top:0}),t.label.props(t.badgeStyle),t.label.setMotion("opacity 0.2s"),t.value=a(t.value),o(),endObject(t)};