"use strict";const CurrencyInputBDefaults={isRequired:0,titleText:"CURRENCY",placeholder:"(auto)",maxChar:35,allowNegative:1,allowDecimal:1,decimalSeparator:".",maxDecimalDigits:2,groupSeparator:",",unitText:"TL"},CurrencyInputB=function(e={}){const t=startExtendedObject(InputB,CurrencyInputBDefaults,e);let a=0;const l=t.input.inputElement;return"(auto)"==t.placeholder&&(t.placeholder=function(){let e="";return t.allowNegative&&(e="-"),e+="1"+t.groupSeparator+"000"+t.groupSeparator+"000",t.allowDecimal&&(e+=t.decimalSeparator+"0".repeat(t.maxDecimalDigits)),e}(),t.setPlaceholder(t.placeholder)),t.inputFunc=function(){t.inputValue=t.input.text,t.checkIfInputIsRequiredAndEmpty(),function(){const e=l.value.length,t=l.selectionStart;a=e-t}();let e=function(e){let a=t.groupSeparator.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e.replace(new RegExp(a,"g"),"")}(l.value),r="0-9";t.allowNegative&&(r+="-"),t.allowDecimal&&(r+="\\"+t.decimalSeparator);const i=new RegExp(`[^${r}]`,"g");if(e=e.replace(i,""),t.allowNegative&&(e=e.replace(/(?!^)-/g,"")),t.allowDecimal){const a=t.decimalSeparator,l=e.split(a);l.length>2&&(e=l.shift()+a+l.join("")),2===l.length&&t.maxDecimalDigits>=0&&(l[1]=l[1].substring(0,t.maxDecimalDigits),e=l[0]+a+l[1])}0!=parseFloat(e)||e.includes(t.decimalSeparator)||e.includes("-")||(e="0"),e==t.decimalSeparator&&(e="0"+t.decimalSeparator),e=="-"+t.decimalSeparator&&(e="-0"+t.decimalSeparator),l.value=function(e){let a="",l=0,r=0;(e=e.toString()).includes(t.decimalSeparator)||(r=1);let i=1;"-"==e[0]&&(i=2);for(let n=e.length-1;n>=0;n--)a=e[n]+a,1==r&&n>=i&&(isNaN(e[n])||l++,3==l&&(l=0,a=t.groupSeparator+a)),0==r&&e[n]==t.decimalSeparator&&(r=1);return a}(e),function(){const e=l.value.length-a;l.setSelectionRange(e,e)}(),t.inputValue=l.value,t.onEdit()},endExtendedObject(t)};