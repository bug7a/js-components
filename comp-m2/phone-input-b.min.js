"use strict";const PhoneInputBDefaults={isRequired:1,titleText:"PHONE NUMBER",placeholder:"(auto)",warningText:"Invalid phone number format",warningColor:"#E5885E",countryCode:"+90",phoneMask:" (___) ___-____",unitText:"TR"},PhoneInputB=function(e={}){mergeIntoIfMissing(e,PhoneInputBDefaults),0==e.createInput&&(e.createInput=1);const t=startExtendedObject(InputB,e),n=t.input.inputElement,o=function(){if(!n)return;const e=n.value.indexOf("_");if(n.selectionStart!==e){let t=-1!==e?e:n.value.length;n.setSelectionRange(t,t),setTimeout((()=>{n.setSelectionRange(t,t)}),0)}};if(t.applyFormattedValueToInput=function(){let e=t.getInputValue();"string"==typeof t.countryCode&&t.countryCode.length>0&&(e=e.substring(t.countryCode.length));let n=t.phoneMask.replace(/[_\d]/g,""),l=Array.from(new Set(n.split("").filter((e=>" "!==e)))).join(""),u=new RegExp("["+l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]","g"),r=e.replace(u,"").replace(/\s/g,"").replace(/[^0-9]/g,""),a=t.countryCode+t.phoneMask,i=0,c="";for(let e=0;e<a.length;e++)"_"===a[e]?i<r.length?(c+=r[i],i++):c+="_":c+=a[e];let s=(t.phoneMask.match(/_/g)||[]).length;if(r.length>s){let e=r.substring(0,s);i=0,c="";for(let t=0;t<a.length;t++)"_"===a[t]?(c+=e[i],i++):c+=a[t]}t.setInputValue(c),o()},t.setPhoneMask=function(e){t.phoneMask=e,t.refreshInput()},t.setCountryCode=function(e){t.countryCode=e,t.refreshInput()},t.isValid=function(){const e=t.getInputValue();return e&&-1===e.indexOf("_")?1:0},t.refreshInput=function(){t.applyFormattedValueToInput(),t.checkIfInputIsRequiredAndEmpty(),t.showWarningIfNotValid(t.isValid()),o(),t.inputValue=n.value},t.fillAutoPlaceholder=function(){t.placeholder=t.countryCode+t.phoneMask.replace(/_/g,(()=>Math.floor(10*Math.random()))),t.setPlaceholder(t.placeholder)},"(auto)"==t.placeholder&&t.fillAutoPlaceholder(),1==t.createInput){t.focusFunc=function(){t.background.color=t.selectedBackgroundColor,t.line.color=t.selectedLineColor;let e=n.value;if(!e||""===e.trim()){let e=t.countryCode+t.phoneMask;n.value=e}o(),t.checkIfInputIsRequiredAndEmpty(),t.showWarningIfNotValid(t.isValid()),t.onFocus()},t.blurFunc=function(){t.background.color=t.backgroundColor,t.line.color=t.lineColor;let e=t.countryCode+t.phoneMask;t.getInputValue()==e&&t.setInputValue(""),t.onBlur()};["mousedown","mouseup","click","select"].forEach((function(e){n.addEventListener(e,(function(e){o()}))})),n.addEventListener("keydown",(function(e){if("Backspace"===e.key){const l=n.selectionStart,u=n.value,r=t.countryCode+t.phoneMask;if(l<=r.indexOf("_"))return e.preventDefault(),void o();let a=u.slice(0,l),i=u.slice(l),c=a.length-1;for(;c>=0&&"_"!==r[c];)c--;if(c>=0){let t=a.substring(0,c)+"_"+a.substring(c+1)+i;n.value=t,o(),e.preventDefault()}else e.preventDefault(),o();t.checkIfInputIsRequiredAndEmpty(),t.showWarningIfNotValid(t.isValid()),t.onEdit()}})),t.inputFunc=function(){t.refreshInput(),t.onEdit()}}return endExtendedObject(t)};